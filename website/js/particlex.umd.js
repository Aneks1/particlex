(function(n,e){typeof exports=="object"&&typeof module<"u"?module.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.particlex=e())})(this,function(){"use strict";var h=Object.defineProperty;var r=(n,e,a)=>e in n?h(n,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[e]=a;var s=(n,e,a)=>r(n,typeof e!="symbol"?e+"":e,a);class n{constructor(t,i){s(this,"parent");s(this,"id");s(this,"position",{x:0,y:0});s(this,"diameter",0);s(this,"life",0);s(this,"speed",{x:0,y:0});this.parent=i,this.id=t,this.init()}init(){const t=setInterval(()=>{this.position.x+=this.speed.x*60/1e3,this.position.y-=this.speed.y*60/1e3,this.life-=.016666666666666666,this.life<=0&&(clearInterval(t),this.parent.particles.delete(this.id))},16.666666666666668)}}class e{constructor(t,i){s(this,"canvas");s(this,"size");s(this,"lastId",0);s(this,"ammount",0);s(this,"particles",new Map);s(this,"diameter",{min:0,max:0});s(this,"life",{min:0,max:0});s(this,"speed",{x:{min:0,max:0},y:{min:0,max:0}});this.canvas=t,this.size=i,t.width=i.x,t.height=i.y}static getRandomNumberInInterval(t){const i=Math.ceil(t.min),o=Math.floor(t.max);return Math.floor(Math.random()*(o-i+1))+i}createParticle(){const t=new n(this.lastId.toString(),this);t.position.x=e.getRandomNumberInInterval({min:0,max:this.size.x}),t.position.y=e.getRandomNumberInInterval({min:0,max:this.size.y}),t.diameter=e.getRandomNumberInInterval(this.diameter),t.life=e.getRandomNumberInInterval(this.life),t.speed.x=e.getRandomNumberInInterval(this.speed.x),t.speed.y=e.getRandomNumberInInterval(this.speed.y),this.particles.set(this.lastId.toString(),t),this.lastId++}init(){const t=this.canvas.getContext("2d");t.fillStyle="white";for(let i=0;i<this.ammount;i++)this.createParticle();setInterval(()=>{if(this.particles.size<this.ammount)for(let i=this.particles.size;i<this.ammount;i++)this.createParticle();t==null||t.clearRect(0,0,this.canvas.width,this.canvas.height),this.particles.forEach(i=>{t==null||t.beginPath(),t==null||t.arc(i.position.x,i.position.y,i.diameter/2,0,2*Math.PI,!1),t==null||t.closePath(),t==null||t.fill()})},1e3/60)}}return{Particle:n,ParticleSystem:e}});
